<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aegis Asset Onboarding // CH. 5: FIRST CONTACT</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;700&family=Exo+2:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Exo 2', sans-serif;
            background-color: #0a0a0a;
        }
        .font-mono {
            font-family: 'Roboto Mono', monospace;
        }
        .glass-effect {
            background: rgba(17, 24, 39, 0.85);
            backdrop-filter: blur(16px);
            -webkit-backdrop-filter: blur(16px);
            border: 1px solid rgba(129, 140, 248, 0.2);
            display: flex;
            flex-direction: column;
            height: 90vh;
            max-height: 850px;
        }
        .progress-bar-inner {
            transition: width 0.5s ease-in-out;
        }
        .dialogue-btn {
            font-weight: 700;
            padding: 0.75rem 1rem;
            border-radius: 0.375rem;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            font-size: 0.875rem;
            line-height: 1.25rem;
            border-width: 2px;
            text-align: center;
        }
        .btn-paragon {
            background-color: rgba(37, 99, 235, 0.2);
            border-color: #60a5fa;
            color: #93c5fd;
        }
        .btn-paragon:hover {
            background-color: rgba(59, 130, 246, 0.4);
            color: #ffffff;
        }
        .btn-renegade {
            background-color: rgba(220, 38, 38, 0.2);
            border-color: #f87171;
            color: #fca5a5;
        }
        .btn-renegade:hover {
            background-color: rgba(239, 68, 68, 0.4);
            color: #ffffff;
        }
        .btn-neutral {
            border-radius: 9999px;
            height: 3rem;
            width: 3rem;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            border-width: 2px;
            background-color: rgba(107, 114, 128, 0.2);
            border-color: #9ca3af;
            color: #d1d5db;
            position: relative;
            flex-shrink: 0;
        }
        .btn-neutral:hover {
            background-color: rgba(156, 163, 175, 0.4);
            color: #ffffff;
        }
        .tooltip {
            visibility: hidden;
            position: absolute;
            bottom: 100%;
            margin-bottom: 0.5rem;
            width: max-content;
            max-width: 20rem;
            padding: 0.75rem;
            font-size: 0.875rem;
            line-height: 1.25rem;
            color: #ffffff;
            background-color: #111827;
            border-radius: 0.375rem;
            border: 1px solid rgba(129, 140, 248, 0.3);
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.3), 0 4px 6px -4px rgb(0 0 0 / 0.3);
            opacity: 0;
            transition: opacity 0.3s;
            z-index: 50;
            left: 50%;
            transform: translateX(-50%);
        }
        .btn-neutral:hover .tooltip, .tooltip-trigger:hover .tooltip {
            visibility: visible;
            opacity: 1;
        }
        .checklist-item {
            cursor: pointer;
            transition: transform 0.2s;
        }
        .checklist-item:hover {
            transform: scale(1.1);
        }
        .checklist-item.completed .checkbox {
             background-color: #4f46e5;
             border-color: #4f46e5;
        }
        .checklist-item.completed .checkbox::after {
            content: '✓';
            color: white;
            font-weight: bold;
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
        }
        .dialogue-box {
            background-color: rgba(23, 31, 58, 0.1);
            padding: 1.5rem;
            border-radius: 0.5rem;
            border: 1px solid rgba(79, 70, 229, 0.3);
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            height: 100%;
        }
        .dialogue-text {
            color: #d1d5db;
            font-size: 1.125rem;
            line-height: 1.75rem;
        }
        .dialogue-emphasis {
            color: #ffffff;
            font-weight: 700;
            position: relative;
            border-bottom: 2px dotted rgba(165, 180, 252, 0.5);
            cursor: help;
        }
        .quote {
            font-family: 'Roboto Mono', monospace;
            font-size: 0.875rem;
            color: rgba(165, 180, 252, 0.7);
            border-left-width: 2px;
            border-color: rgba(99, 102, 241, 0.5);
            padding-left: 1rem;
            margin-top: 1.5rem;
            font-style: italic;
        }
    </style>
</head>
<body class="text-gray-200 bg-cover bg-center bg-fixed" style="background-image: url('https://placehold.co/1920x1080/0a0a1a/1a1a2e?text=SYNAPSE+SYSTEMS&font=exo2');">

    <div class="min-h-screen flex items-center justify-center p-2 sm:p-4">
        <div class="w-full max-w-4xl glass-effect rounded-xl shadow-2xl overflow-hidden">
            
            <header class="bg-gray-900/50 p-4 sm:p-6 border-b border-indigo-500/30 flex-shrink-0">
                <h1 class="text-xl sm:text-3xl font-black text-white tracking-widest uppercase">Aegis Asset Onboarding</h1>
                <p class="text-indigo-400 font-mono text-xs sm:text-sm">MODULE 5: FIRST CONTACT</p>
            </header>

            <main class="p-4 sm:p-8 flex-grow overflow-y-auto">
                <div id="section-display" class="h-full"></div>
            </main>
            
            <div id="dialogue-hub" class="p-4 sm:p-6 border-t border-indigo-700/30 bg-gray-900/30 flex-shrink-0">
            </div>

            <footer class="bg-gray-900/50 p-4 border-t border-indigo-500/30 flex-shrink-0">
                <div class="flex justify-between items-center gap-4">
                    <div class="w-1/3">
                        <div id="checklist" class="flex gap-2">
                             <div id="check-0" class="checklist-item w-1/4 h-4"><div class="checkbox w-full h-full rounded-sm border-2 border-gray-600 relative"></div></div>
                             <div id="check-1" class="checklist-item w-1/4 h-4"><div class="checkbox w-full h-full rounded-sm border-2 border-gray-600 relative"></div></div>
                             <div id="check-2" class="checklist-item w-1/4 h-4"><div class="checkbox w-full h-full rounded-sm border-2 border-gray-600 relative"></div></div>
                             <div id="check-3" class="checklist-item w-1/4 h-4"><div class="checkbox w-full h-full rounded-sm border-2 border-gray-600 relative"></div></div>
                        </div>
                    </div>
                    <div class="w-1/3 text-center">
                        <p id="progress-text" class="text-sm font-mono text-indigo-400">0% COMPLETE</p>
                    </div>
                    <div class="w-1/3">
                         <div class="w-full bg-gray-700 rounded-full h-2.5">
                            <div id="progress-bar" class="bg-indigo-600 h-2.5 rounded-full progress-bar-inner" style="width: 0%"></div>
                        </div>
                    </div>
                </div>
            </footer>
        </div>
    </div>

    <script>
        let currentSection = 0;
        let highestSectionReached = 0;
        const totalLearningSections = 4;

        const sections = [
            {
                heading: "Transmission from Handler Lyra-7",
                quote: `I'm not telling you it's going to be easy. I'm telling you it's going to be worth it.`,
                quote_source: "Art Williams",
                dialogue: [
                    "Asset, you're equipped. Now it's time to go live. This is the final and most practical part of your training: how to acquire and use Monero in the field.",
                    "This is where the simulation ends. Pay attention. Your safety, and the safety of the network, depends on it."
                ],
                options: [
                    { text: "Acknowledged. Let's begin.", action: () => nextSection(), type: 'paragon' }
                ]
            },
            {
                heading: "// 1. The Exchange: Acquiring Assets",
                quote: "The street finds its own uses for things.",
                quote_source: "William Gibson, Burning Chrome",
                dialogue: [
                    "You can't buy Monero at a regular bank. You need to go to an exchange. For maximum OPSEC, we recommend peer-to-peer (P2P) exchanges.",
                    "Think of a <span class='dialogue-emphasis tooltip-trigger'>Centralized Exchange<span class='tooltip'>A large, corporate platform like Coinbase or Kraken. They are easy to use but require you to verify your identity, linking your transactions to your real name. A major security risk for us.</span></span> like a corporate superstore. It's convenient, but they track your every move.",
                    "A <span class='dialogue-emphasis tooltip-trigger'>Peer-to-Peer Exchange<span class='tooltip'>A marketplace like LocalMonero where you trade directly with another individual. It's a private deal, offering far greater anonymity and security. This is our preferred method.</span></span> is like a local bazaar. You're making a private trade with another person. This is how a ghost stays a ghost."
                ],
                options: [
                    { text: "Review mission parameters.", action: () => previousSection(), type: 'renegade' },
                    { text: "Acknowledged. P2P for OPSEC.", action: () => nextSection(), type: 'paragon' }
                ]
            },
            {
                heading: "// 2. Field Protocol: The Transaction",
                quote: "Patience and timing... everything comes to him who knows how to wait.",
                quote_source: "Alexandre Dumas, The Count of Monte Cristo",
                dialogue: [
                    "Once you have Monero in your wallet, using it is simple. The process is the same for sending or receiving.",
                    `<ol class="list-decimal list-inside mt-4 space-y-2 text-gray-300">
                        <li><strong>To Receive:</strong> Find your 'Receive' tab. Copy your public address (the long string of characters). This is the 'mailbox' address you give to the sender.</li>
                        <li><strong>To Send:</strong> Go to your 'Send' tab. Paste the recipient's public address. Enter the amount. Double-check everything. Hit 'Send'.</li>
                        <li><strong>To Wait:</strong> The network needs time to confirm the transaction. This is normal. It can take several minutes. An asset must be patient.</li>
                    </ol>`
                ],
                options: [
                     { text: "Explain the exchanges again.", action: () => previousSection(), type: 'renegade' },
                     { text: "Acknowledged. Simple, secure, patient.", action: () => nextSection(), type: 'paragon' },
                ]
            },
            {
                heading: "// 3. The Mission: Use Cases",
                quote: "We're not just fighting for ourselves. We're fighting for the soul of the Grid.",
                quote_source: "Adapted from TRON: Legacy",
                dialogue: [
                    "Why have you learned all this? Because this is how we operate. This is how we win.",
                    "You will use this knowledge to:",
                     `<ul class="list-none space-y-2 mt-4 text-gray-300 font-mono text-sm">
                        <li><span class="text-cyan-400">→</span> Anonymously fund the Exodus Fund lifeboat.</li>
                        <li><span class="text-cyan-400">→</span> Securely support other Aegis assets in the field.</li>
                        <li><span class="text-cyan-400">→</span> Acquire resources and pay for services without leaving a data trail for Ouroboros to follow.</li>
                    </ul>`
                ],
                options: [
                    { text: "Review the transaction process.", action: () => previousSection(), type: 'renegade' },
                    { text: "Acknowledged. Ready for my first mission.", action: () => nextSection(), type: 'paragon' },
                ]
            },
            {
                heading: "Onboarding Complete, Spark.",
                quote: "All that you touch, You Change. All that you Change, Changes you. The only lasting truth is Change. God is Change.",
                quote_source: "Octavia Butler, Parable of the Sower",
                dialogue: [
                    "Your training is complete. You are now a fully operational Aegis Asset. Your knowledge is your weapon, your wallet is your shield, and the network is your family.",
                    "Your first mission, should you choose to accept it, is to launch the first lifeboat. Welcome to the fight."
                ],
                 options: [
                    { text: "Restart Onboarding", action: () => window.location.href = 'operator-onboarding-1.html', type: 'renegade' },
                    { text: "Proceed to the Exodus Fund", action: () => window.location.href = 'https://synapsecomics.com/madrep-exodus-fund', type: 'paragon' },
                ]
            }
        ];

        const geminiBaseUrl = "https://gemini.google.com/app?prompt=";

        function renderSection(sectionIndex) {
            const sectionData = sections[sectionIndex];
            const display = document.getElementById('section-display');
            const dialogueHub = document.getElementById('dialogue-hub');

            const dialogueHtml = sectionData.dialogue.map(p => `<p class="dialogue-text mb-4">${p}</p>`).join('');
            
            display.innerHTML = `
                <div class="dialogue-box">
                    <div>
                        <h3 class="text-xl font-bold ${sectionIndex === 0 ? 'text-white' : 'text-indigo-400'} mb-4 font-mono">${sectionData.heading}</h3>
                        ${dialogueHtml}
                    </div>
                    <blockquote class="quote">
                        <p>"${sectionData.quote}"</p>
                        <cite class="block text-right not-italic text-indigo-400/50">- ${sectionData.quote_source}</cite>
                    </blockquote>
                </div>
            `;
            
            const renegadeOpt = sectionData.options.find(o => o.type === 'renegade');
            const paragonOpt = sectionData.options.find(o => o.type === 'paragon');

            let hubHTML = '<div class="flex items-center justify-center gap-4">';
            
            hubHTML += '<div class="w-1/3 flex justify-start">';
            if(renegadeOpt) {
                hubHTML += `<button onclick="(${renegadeOpt.action.toString()})()" class="dialogue-btn btn-renegade">${renegadeOpt.text}</button>`;
            }
            hubHTML += '</div>';

            const query = `I am a new Aegis Asset learning about how to use Monero for my onboarding. Can you help me understand this concept better?`;
            const encodedQuery = encodeURIComponent(query);
            hubHTML += `<div class="flex-shrink-0">
                            <a href="${geminiBaseUrl}${encodedQuery}" target="_blank" class="btn-neutral">
                                <span class="font-bold text-xl italic">i</span>
                                <div class="tooltip">Click, then copy prompt from URL to ask MI for help.</div>
                            </a>
                       </div>`;
            
            hubHTML += '<div class="w-1/3 flex justify-end">';
            if(paragonOpt) {
                hubHTML += `<button onclick="(${paragonOpt.action.toString()})()" class="dialogue-btn btn-paragon">${paragonOpt.text}</button>`;
            }
            hubHTML += '</div>';

            hubHTML += '</div>';
            dialogueHub.innerHTML = hubHTML;
        }

        function showSection(sectionIndex) {
            currentSection = sectionIndex;
            if (currentSection > highestSectionReached) {
                highestSectionReached = currentSection;
            }
            renderSection(sectionIndex);
            updateProgress();
        }

        function updateProgress() {
            const progress = (currentSection / (totalLearningSections-1)) * 100;
            const clampedProgress = Math.min(100, Math.max(0, progress));

            document.getElementById('progress-bar').style.width = `${clampedProgress}%`;
            document.getElementById('progress-text').innerText = `${Math.round(clampedProgress)}% COMPLETE`;
            
            document.querySelectorAll('.checklist-item').forEach((item, index) => {
                item.classList.remove('completed');
                if (index < currentSection) {
                    item.classList.add('completed');
                }
            });
             if (currentSection >= totalLearningSections) {
                 for(let i=0; i < totalLearningSections; i++) {
                     document.getElementById(`check-${i}`).classList.add('completed');
                 }
             }
        }

        function nextSection() {
            if (currentSection < sections.length - 1) {
                showSection(currentSection + 1);
            }
        }
        
        function previousSection() {
            if (currentSection > 0) {
                showSection(currentSection - 1);
            }
        }

        function goToSection(sectionIndex) {
            if (sectionIndex <= highestSectionReached && sectionIndex < sections.length) {
                 showSection(sectionIndex);
            }
        }

        function restartTraining() {
            highestSectionReached = 0;
            showSection(0);
        }
        
        showSection(0);
    </script>
</body>
</html>
